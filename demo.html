<!DOCTYPE html>
<html ng-app="jcs-demo">
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
    <link href='https://fonts.googleapis.com/css?family=Architects+Daughter' rel='stylesheet' type='text/css'/>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <link rel="stylesheet" type="text/css" href="//maxcdn.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="http://prismjs.com/themes/prism.css" />
    <link href='http://fonts.googleapis.com/css?family=Raleway:400,200' rel='stylesheet' type='text/css'>


    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <title>Angular-auto-validate by Jon Samwell</title>
  </head>

  <body>
    <header>
      <div class="inner">
        <h1>Angular-auto-validate</h1>
        <h2>An automatic validation module for AngularJS which gets rid of excess html in favour of dynamic element modification to notify the user of validation errors</h2>
        <a href="https://github.com/jonsamwell/angular-auto-validate" class="button"><small>View project on</small>GitHub</a>
      </div>
    </header>

    <div id="content-wrapper">
      <div class="inner clearfix">
        <section id="main-content">
          <h3 id="getting_started">Demo.</h3>
            <div class="callout">
                <p>For the best overview of the module and module architecture see my <a href="http://www.jonsamwell.com/angular-auto-validate">original blog post here</a>.</p>
            </div>

            <div ng-controller="demoCtrl">
                <p>
                    <button type="button" class="btn btn-primary" ng-click="toggleBS3Icons();">Toggle Validation State Icons</button>
                </p>
                <form role="form">
                    <div class="form-group">
                        <label class="control-label">Name</label>
                        <input type="email"
                               class="form-control"
                               placeholder="Enter Name"
                               ng-model="user.name"
                               required="required" />
                    </div>
                    <div class="form-group">
                        <label class="control-label">Email address - <small>Element with a custom element modifier (see source code)</small></label>
                        <input type="email"
                               class="form-control"
                               placeholder="Enter email"
                               ng-model="user.email"
                               required="required"
                               element-modifier="myCustomModifierKey">
                    </div>
                    <div class="form-group">
                        <label class="control-label">Password - <small>Element with validation happening on blur rather than change</small></label>
                        <input type="password" class="form-control"
                               ng-model="user.password"
                               placeholder="Password"
                               required="required"
                               ng-minlength="6"
                               ng-model-options="{updateOn: 'blur'}">
                    </div>

                    <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </section>

        <aside id="sidebar">
            <h3>Menu</h3>
            <ul>
                <li><a href="#getting_started">Default</a></li>
                <li><a href="#your_form">Validate on Blur</a></li>
                <li><a href="#error_message_resolver">Custom Element Modifier</a></li>
            </ul>
          <a href="https://github.com/jonsamwell/angular-auto-validate/zipball/master" class="button">
            <small>Download</small>
            .zip file
          </a>
          <a href="https://github.com/jonsamwell/angular-auto-validate/tarball/master" class="button">
            <small>Download</small>
            .tar.gz file
          </a>

          <p class="repo-owner"><a href="https://github.com/jonsamwell/angular-auto-validate"></a> is maintained by <a href="https://github.com/jonsamwell">jonsamwell</a>.</p>

          <p>This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the Architect theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.</p>
        </aside>
      </div>
    </div>

    <script src="https://code.jquery.com/jquery-1.11.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lodash.js/2.4.1/lodash.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.16/angular.min.js"></script>
    <script type="text/javascript" src="https://raw.githubusercontent.com/jonsamwell/angular-auto-validate/master/dist/jcs-auto-validate.js"></script>
  <script type="text/javascript">
      (function (angular) {
            var app = angular.module('jcs-demo', ['jcs-autoValidate']);

          app.controller('demoCtrl', [
              '$scope',
              'bootstrap3ElementModifier',
              function ($scope, bootstrap3ElementModifier) {
                $scope.user = {};
                $scope.bs3Icons = false;

                $scope.toggleBS3Icons = function () {
                    $scope.bs3Icons = !$scope.bs3Icons;
                    bootstrap3ElementModifier.enableValidationStateIcons($scope.bs3Icons);
                }
              }
          ]);

          app.factory('myCustomElementModifier', [
                  function () {
                      var /**
                           * @ngdoc function
                           * @name myCustomElementModifier#makeValid
                           * @methodOf myCustomElementModifier
                           *
                           * @description
                           * Makes an element appear valid by apply custom styles and child elements.
                           *
                           * @param {Element} el - The input control element that is the target of the validation.
                           */
                          makeValid = function (el) {
                              el.removeClass('bg-red');
                              el.addClass('bg-green');
                          },

                          /**
                           * @ngdoc function
                           * @name myCustomElementModifier#makeInvalid
                           * @methodOf myCustomElementModifier
                           *
                           * @description
                           * Makes an element appear invalid by apply custom styles and child elements.
                           *
                           * @param {Element} el - The input control element that is the target of the validation.
                           * @param {String} errorMsg - The validation error message to display to the user.
                           */
                          makeInvalid = function (el, errorMsg) {
                              el.removeClass('bg-green');
                              el.addClass('bg-red');
                          };

                      return {
                          makeValid: makeValid,
                          makeInvalid: makeInvalid,
                          key: 'myCustomModifierKey'
                      };
                  }
              ]);

          // now register the custom element modifier with the auto-validate module and set it as the default one for all elements
          app.run([
              'validator',
              'myCustomElementModifier',
              function (validator, myCustomElementModifier) {
                  validator.registerDomModifier(myCustomElementModifier.key, myCustomElementModifier);
              }
          ]);
      }(angular));
  </script>
  </body>
</html>