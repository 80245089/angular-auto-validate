/*
 * angular-auto-validate - v1.0.4 - 2014-07-16
 * https://github.com/jonsamwell/angular-auto-validate
 * Copyright (c) 2014 Jon Samwell;*/
!function(a){"use strict";a.module("jcs-autoValidate",[])}(angular),function(a){"use strict";a.module("jcs-autoValidate").provider("validator",[function(){var a={};this.setDefaultElementModifier=function(b){if(void 0===a[b])throw new Error("Element modifier not registered: "+b);this.defaultElementModifier=b},this.registerDomModifier=function(b,c){a[b]=c},this.setErrorMessageResolver=function(a){this.errorMessageResolver=a},this.getErrorMessage=function(a,b){if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(a,b)},this.getDomModifier=function(b){var c=(void 0!==b?b.attr("element-modifier"):this.defaultElementModifier)||(void 0!==b?b.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===c)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return a[c]},this.makeValid=function(a){this.getDomModifier(a).makeValid(a)},this.makeInvalid=function(a,b){this.getDomModifier(a).makeInvalid(a,b)},this.$get=[function(){return this}]}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("bootstrap3ElementModifier",[function(){var b=function(b){a.forEach(b.find("span"),function(b){b=a.element(b),(b.hasClass("error-msg")||b.hasClass("form-control-feedback"))&&b.remove()}),b.removeClass("has-success has-error has-feedback")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("form-group"));c+=1)void 0!==b&&(b=b.parent());return b},d=!1,e=function(a){d=a},f=function(e){var f=c(e);b(f),f.addClass("has-success has-feedback"),d&&f.append(a.element('<span class="glyphicon glyphicon-ok form-control-feedback"></span>'))},g=function(e,f){var g=c(e),h=a.element('<span class="help-text has-error error-msg">'+f+"</span>");b(g),g.addClass("has-error has-feedback"),g.append(h),d&&g.append(a.element('<span class="glyphicon glyphicon-remove form-control-feedback"></span>'))};return{makeValid:f,makeInvalid:g,enableValidationStateIcons:e,key:"bs3"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("debounce",["$timeout",function(b){var c=function(c,d,e){d=a.isUndefined(d)?0:d,e=a.isUndefined(e)?!0:e;var f=0;return function(){var a=this,g=arguments;f+=1;var h=function(b){return function(){return b===f?c.apply(a,g):void 0}}(f);return b(h,d,e)}};return{debounce:c}}])}(angular),function(a,b){"use strict";"format"in a.prototype||(a.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return void 0!==typeof a[c]?a[c]:b})}),b.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q",function(a){var b={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"},c=function(c,d){var e,f=a.defer(),g=b[c],h=[];if(void 0===g&&(g=b.defaultMsg.format(c)),d&&d.attr)try{e=d.attr(c),void 0===e&&(e=d.attr("data-ng-"+c)||d.attr("ng-"+c)),h.push(e||""),g=g.format(h)}catch(i){}return f.resolve(g),f.promise};return{errorMessages:b,resolve:c}}])}(String,angular),function(a){"use strict";a.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var b=function(b){a.forEach(b.find("small"),function(b){a.element(b).hasClass("error")&&a.element(b).remove()}),b.removeClass("error")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("columns"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a){var d=c(a);b(d&&d.length>0?d:a)},e=function(d,e){var f,g=c(d);b(g||d),d.addClass("error"),g&&(f=a.element('<small class="error">'+e+"</small>"),g.append(f))};return{makeValid:d,makeInvalid:e,key:"foundation5"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("validationManager",["validator",function(b){var c=function(c,d,e){var f,g=!0,h=c.$pristine===!1||e,i=function(b){var c,d=!0;return a.forEach(b,function(a,b){d&&a&&(d=!1,c=b)}),c};return c&&h&&(g=!c.$invalid,g?b.makeValid(d):(f=i(c.$error),b.getErrorMessage(f,d).then(function(a){b.makeInvalid(d,a)}))),g},d=function(b){var e=!0;return void 0===b?!1:(a.forEach(b[0],function(b){var f,g;b=a.element(b),f=b.controller("ngModel"),void 0!==f&&("FORM"===b[0].nodeName?d(b):(g=c(f,b,!0),e=e&&g))}),e)};return{validateElement:c,validateForm:d}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(a){a.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(a,b,c){return a[0].compile=function(a,d){var e=b(d.ngSubmit),f="true"===d.ngSubmitForce;return function(a,b){b.on("submit",function(d){a.$apply(function(){(f===!0||c.validateForm(b))&&e(a,{$event:d})})})}},a}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(b){b.decorator("ngModelDirective",["$delegate","validationManager","debounce",function(b,c,d){var e=b[0],f=e.link;return e.compile=function(){return function(b,e,g,h){var i=h[0],j=a.version.major>=1&&a.version.minor>=3,k=void 0===g.ngModelOptions?void 0:b.$eval(g.ngModelOptions),l=i.$setValidity,m=d.debounce(function(){c.validateElement(i,e)},100);f.pre&&(f.pre.apply(this,arguments),k=void 0===i.$options?void 0:i.$options),void 0===g.formnovalidate&&(j||void 0===k||void 0===k.updateOn||""===k.updateOn?i.$setValidity=function(a,b){l.call(i,a,b),m()}:(e.on(k.updateOn,function(){m()}),b.$on("$destroy",function(){e.off(k.updateOn)})),i.autoValidated=!0),f.post?f.post.apply(this,arguments):f.apply(this,arguments)}},b}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(a,b,c,d){a.setErrorMessageResolver(b.resolve),a.registerDomModifier(c.key,c),a.registerDomModifier(d.key,d),a.setDefaultElementModifier(c.key)}])}(angular);