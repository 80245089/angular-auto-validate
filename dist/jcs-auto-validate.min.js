/*
 * angular-auto-validate - v1.2.20 - 2014-08-27
 * https://github.com/jonsamwell/angular-auto-validate
 * Copyright (c) 2014 Jon Samwell (http://www.jonsamwell.com)
 */
!function(a){"use strict";a.module("jcs-autoValidate",[])}(angular),function(a){"use strict";a.module("jcs-autoValidate").provider("validator",[function(){var a={},b=!0,c=!0,d=function(a){var b;return a&&0!==a.length?(b=a.toLowerCase(),a=!("f"===b||"0"===b||"false"===b)):a=!1,a},e=function(a,b){var c;return void 0!==a&&(c=a.attr(b)||a.attr("data-"+b)),c},f=function(a,b){return d(e(a,b))},g=function(a){return b&&!f(a,"disable-valid-styling")},h=function(a){return c&&!f(a,"disable-invalid-styling")};this.setDefaultElementModifier=function(b){if(void 0===a[b])throw new Error("Element modifier not registered: "+b);this.defaultElementModifier=b},this.registerDomModifier=function(b,c){a[b]=c},this.setErrorMessageResolver=function(a){this.errorMessageResolver=a},this.getErrorMessage=function(a,b){if(void 0===this.errorMessageResolver)throw new Error("Please set an error message resolver via the setErrorMessageResolver function before attempting to resolve an error message.");return this.errorMessageResolver(a,b)},this.setValidElementStyling=function(a){b=a},this.setInvalidElementStyling=function(a){c=a},this.getDomModifier=function(b){var c=(void 0!==b?b.attr("element-modifier"):this.defaultElementModifier)||(void 0!==b?b.attr("data-element-modifier"):this.defaultElementModifier)||this.defaultElementModifier;if(void 0===c)throw new Error("Please set a default dom modifier via the setDefaultElementModifier method on the validator class.");return a[c]},this.makeValid=function(a){g(a)?this.getDomModifier(a).makeValid(a):this.makeDefault(a)},this.makeInvalid=function(a,b){h(a)?this.getDomModifier(a).makeInvalid(a,b):this.makeDefault(a)},this.makeDefault=function(a){var b=this.getDomModifier(a);b.makeDefault&&b.makeDefault(a)},this.$get=[function(){return this}]}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("bootstrap3ElementModifier",[function(){var b=function(b){a.forEach(b.find("span"),function(b){b=a.element(b),(b.hasClass("error-msg")||b.hasClass("form-control-feedback"))&&b.remove()}),b.removeClass("has-success has-error has-feedback")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("form-group"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a,b){a[0].parentNode.insertBefore(b[0],a[0].nextSibling)},e=!1,f=function(a){e=a},g=function(f){var g=c(f);b(g),g.addClass("has-success has-feedback"),e&&d(f,a.element('<span class="glyphicon glyphicon-ok form-control-feedback"></span>'))},h=function(f,g){var h=c(f),i=a.element('<span class="help-block has-error error-msg">'+g+"</span>");b(h),h.addClass("has-error has-feedback"),d(f,i),e&&d(f,a.element('<span class="glyphicon glyphicon-remove form-control-feedback"></span>'))},i=function(a){var d=c(a);b(d)};return{makeValid:g,makeInvalid:h,makeDefault:i,enableValidationStateIcons:f,key:"bs3"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("jcs-debounce",["$timeout",function(b){var c=function(c,d,e){d=a.isUndefined(d)?0:d,e=a.isUndefined(e)?!0:e;var f=0;return function(){var a=this,g=arguments;f+=1;var h=function(b){return function(){return b===f?c.apply(a,g):void 0}}(f);return b(h,d,e)}};return{debounce:c}}])}(angular),function(a,b){"use strict";"format"in a.prototype||(a.prototype.format=function(){var a=arguments;return this.replace(/{(\d+)}/g,function(b,c){return void 0!==typeof a[c]?a[c]:b})}),b.autoValidate=b.autoValidate||{errorMessages:{}},b.autoValidate.errorMessages["en-us"]=b.autoValidate.errorMessages["en-gb"]={defaultMsg:"Please add error message for {0}",email:"Please enter a valid email address",minlength:"Please enter at least {0} characters",maxlength:"You have entered more than the maximum {0} characters",min:"Please enter the minimum number of {0}",max:"Please enter the maximum number of {0}",required:"This field is required",date:"Please enter a valid date",pattern:"Please ensure the entered information adheres to this pattern {0}",number:"Please enter a valid number",url:"Please enter a valid URL in the format of http(s)://wwww.google.com"},b.module("jcs-autoValidate").factory("defaultErrorMessageResolver",["$q","$http",function(a,c){var d,e="en-gb",f="js/angular-auto-validate/dist/lang",g=function(a){return d=c.get("{0}/jcs-auto-validate_{1}.json".format(f,a.toLowerCase()))},h=function(a){f=a},i=function(c,f){var h=a.defer();return f=f||g,e=c.toLowerCase(),void 0===b.autoValidate.errorMessages[e]?(d=f(c),d.then(function(a){d=void 0,b.autoValidate.errorMessages[e]=a.data,h.resolve(b.autoValidate.errorMessages[e])},function(a){b.autoValidate.errorMessages[e]={defaultMsg:"Loading culture failed!"},d=null,h.reject(a)})):h.resolve(b.autoValidate.errorMessages[e]),h.promise},j=function(c){var f=a.defer();return c=void 0===c?e:c.toLowerCase(),void 0!==d?d.then(function(){f.resolve(b.autoValidate.errorMessages[c])},function(a){f.reject(a)}):f.resolve(b.autoValidate.errorMessages[c]),f.promise},k=function(a,b){var c;return b&&(a+="-err-type",c=b.attr(a),void 0===c&&(c=b.attr("data-ng-"+a)||b.attr("ng-"+a))),c},l=function(c,f){var g,h,i,j=a.defer(),m=[];if(void 0!==d)d.then(function(){l(c,f).then(function(a){j.resolve(a)})});else{if(g=b.autoValidate.errorMessages[e][c],i=k(c,f),i&&(g=b.autoValidate.errorMessages[e][i]),void 0===g&&(g=b.autoValidate.errorMessages[e].defaultMsg.format(c)),f&&f.attr)try{h=f.attr(c),void 0===h&&(h=f.attr("data-ng-"+c)||f.attr("ng-"+c)),m.push(h||""),g=g.format(m)}catch(n){}j.resolve(g)}return j.promise};return{setI18nFileRootPath:h,setCulture:i,getErrorMessages:j,resolve:l}}])}(String,angular),function(a){"use strict";a.module("jcs-autoValidate").factory("foundation5ElementModifier",[function(){var b=function(b,c){a.forEach(b.find("small"),function(b){a.element(b).hasClass("error")&&a.element(b).remove()}),c.removeClass("error")},c=function(a){for(var b=a,c=0;3>=c&&(void 0===b||!b.hasClass("columns"));c+=1)void 0!==b&&(b=b.parent());return b},d=function(a){var d=c(a);b(d&&d.length>0?d:a,a)},e=function(d,e){var f,g=c(d);b(g||d,d),d.addClass("error"),g&&(f=a.element('<small class="error">'+e+"</small>"),g.append(f))},f=function(a){d(a)};return{makeValid:d,makeInvalid:e,makeDefault:f,key:"foundation5"}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").factory("validationManager",["validator",function(b){var c=["input","textarea","select","form"],d=function(a){return a&&a.length>0&&c.indexOf(a[0].nodeName.toLowerCase())>-1},e=function(c,e,f){var g,h=!0,i=c.$pristine===!1||f,j=function(b){var c,d=!0;return a.forEach(b,function(a,b){d&&a&&(d=!1,c=b)}),c};return(f||d(e))&&c&&i&&(h=!c.$invalid,h?b.makeValid(e):(g=j(c.$error),b.getErrorMessage(g,e).then(function(a){b.makeInvalid(e,a)}))),h},f=function(a){b.makeDefault(a)},g=function(b){a.forEach(b[0],function(b){var c,d=a.element(b);c=d.controller("ngModel"),void 0!==c&&("form"===d[0].nodeName.toLowerCase()?g(d):c.$setPristine())})},h=function(b){var c=!0,f=b?a.element(b).controller("form"):void 0,g=function(b,f){var g,i;b=a.element(b),g=b.controller("ngModel"),void 0!==g&&(f||d(b))&&("form"===b[0].nodeName.toLowerCase()?h(b):(i=e(g,b,!0),c=c&&i))};return void 0===b||void 0!==f&&f.disableDynamicValidation?void 0!==b:(a.forEach(b[0],function(a){g(a)}),b[0].customHTMLFormControlsCollection&&a.forEach(b[0].customHTMLFormControlsCollection,function(a){g(a,!0)}),c)};return{validateElement:e,validateForm:h,resetElement:f,resetForm:g}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("form",["validationManager",function(a){return{restrict:"E",link:function(b,c){c.on("reset",function(){a.resetForm(c)}),b.$on("$destroy",function(){c.off("reset")})}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("registerCustomFormControl",[function(){var b=function(b){for(var c=b,d=0;10>=d&&(void 0===c||"form"!==c.nodeName.toLowerCase());d+=1)void 0!==c&&(c=a.element(c).parent()[0]);return c};return{restrict:"A",link:function(a,c){var d=b(c.parent()[0]);d&&(d.customHTMLFormControlsCollection=d.customHTMLFormControlsCollection||[],d.customHTMLFormControlsCollection.push(c[0]))}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").directive("disableDynamicValidation",[function(){return{restrict:"A",require:"form",compile:function(){return{pre:function(a,b,c,d){d.disableDynamicValidation=!0}}}}}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(a){a.decorator("ngSubmitDirective",["$delegate","$parse","validationManager",function(a,b,c){return a[0].compile=function(a,d){var e=b(d.ngSubmit),f="true"===d.ngSubmitForce;return function(a,b){b.on("submit",function(d){a.$apply(function(){(f===!0||c.validateForm(b))&&e(a,{$event:d})})})}},a}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").config(["$provide",function(b){b.decorator("ngModelDirective",["$timeout","$delegate","validationManager","jcs-debounce",function(b,c,d,e){var f=c[0],g=f.link;return f.compile=function(){return function(b,c,f,h){var i=h[0],j=h[1],k=a.version.major>=1&&a.version.minor>=3,l=void 0===f.ngModelOptions?void 0:b.$eval(f.ngModelOptions),m=i.$setValidity,n=i.$setPristine,o=e.debounce(function(){d.validateElement(i,c)},100);g.pre&&(g.pre.apply(this,arguments),l=void 0===i.$options?void 0:i.$options),(void 0===f.formnovalidate||void 0!==j&&j.disableDynamicValidation!==!0)&&(k||void 0===l||void 0===l.updateOn||""===l.updateOn?i.$setValidity=function(a,b){m.call(i,a,b),o()}:(c.on(l.updateOn,function(){o()}),b.$on("$destroy",function(){c.off(l.updateOn)})),i.$setPristine=function(){n.call(i),d.resetElement(c)},i.autoValidated=!0),g.post?g.post.apply(this,arguments):g.apply(this,arguments)}},c}])}])}(angular),function(a){"use strict";a.module("jcs-autoValidate").run(["validator","defaultErrorMessageResolver","bootstrap3ElementModifier","foundation5ElementModifier",function(a,b,c,d){a.setErrorMessageResolver(b.resolve),a.registerDomModifier(c.key,c),a.registerDomModifier(d.key,d),a.setDefaultElementModifier(c.key)}])}(angular);